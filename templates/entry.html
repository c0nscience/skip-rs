{% extends "base.html" %}

{% block title %}RSKiP{% endblock %}

{% block content %}
<form hx-post="/{{ category_type }}/categories/{{ category_id }}/entries/{{entry_id}}">
	<div class="p-8 grid grid-cols-4 gap-x-2 gap-y-10">
		<div class="col-span-4 flex justify-center">
			<img src="{{image_url}}" class="rounded-lg">
		</div>
		{% for room in rooms %}
		<div class="overflow-hidden ">
			<label for="{{room}}" class="flex justify-center p-2 rounded-lg bg-gray-500">
				<img id="{{room}}-img" src="/public/icons/rooms/{{room}}.png" class="grayscale">
			</label>
			<input id="{{room}}" name="room" value="{{room}}" type="radio" class="hidden" _="on change from closest <form/>
					if I match <:checked/> then
						remove .grayscale from #{{room}}-img
						remove .bg-gray-500 from previous <label/>
						add .bg-gray-100 to previous <label/>
					else
						add .grayscale to #{{room}}-img
						add .bg-gray-500 to previous <label/>
						remove .bg-gray-100 from previous <label/>
					end">
		</div>
		{% endfor %}
		<div class="col-span-2 flex justify-center">
			<button type="button" class="rounded-full bg-red-600 p-2 text-white" _="on click go back">
				<svg viewBox="0 0 24 24" fill="currentColor" class="size-12">
					<path fill-rule="evenodd"
						d="M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z"
						clip-rule="evenodd" />
				</svg>
			</button>
		</div>
		<div class="col-span-2 flex justify-center">
			<button type="submit" disabled
				class="rounded-full bg-green-600 p-2 text-white disabled:bg-gray-500" _="on change from closest <form/> 
				if (<:checked/>).length > 0
					remove @disabled
				else
					add @disabled
                                end">
				<svg viewBox="0 0 24 24" fill="currentColor" class="size-12">
					<path fill-rule="evenodd"
						d="M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z"
						clip-rule="evenodd" />
				</svg>
			</button>
		</div>
	</div>
</form>
{% endblock %}
